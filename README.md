# 簡單的說明
這一些code是我為了Vtuber 乙夏れい製作的，功能在於讀取語音之後翻譯和顯示字幕.<br>
由於是給乙夏れい用的，所以就只有四種語言可以選擇，如果想要複製使用的話可以自己增加，位置在styleController.js的const LANGUAGE_OPTIONS那邊
 
這一些code全部都是AI產生出來的，一部分CSS是ChatGPT產出，其他都是由GROK 3生成的，我只有告知需要什麼功能和調整，以及除錯後請GROK 3進行修改錯誤<br>
如果要使用的話隨意複製修改都可以，code我也不懂lol，但希望不要拿去賣錢或者是複製或修改後說是自己做的，這個應該是基本的禮貌
 
語音擷取部分是使用瀏覽器的web speech api擷取，雖然免費不過限制很多，像是一次說多種國家的語言那一定是擷取錯誤<br>
再來是到目前2025/04/17為止、Chrome的語音擷取很容易產生網路錯誤而強制中斷的狀況，雖然我有加入自動重啟的功能，但這中間就會漏掉一大段的擷取<br>
所以暫時建議先使用edge來擷取語音，但之後會怎麼樣誰知道呢...

後端的翻譯網址這邊不提供，請自行製作，傳送請求的格式範例製作中...有空在上傳告知.

應該不會有人想用這些code吧lol

このコードはVTuberの乙夏れいさんのために作ったもので、音声を認識して翻訳・字幕表示する機能があります。<br>
れいちゃん向けなので、選べる言語は4つだけにしてあります。<br>
もし他の人が使いたい場合は、styleController.js の const LANGUAGE_OPTIONS を編集して、好きな言語を追加してください。<br>

このコードはすべてAIによって生成されたものです。<br>CSSの一部はChatGPT、その他のコードは主にGROK 3にお願いしました。<br>私は「こういう機能がほしい」とか「ここを直して」と伝えて、GROK 3に修正してもらっただけで、実際コードはよく分かってません（笑）<br>
自由にコピー・改変してもOKですが、販売したり、自分が作ったと言って公開するのはやめてくださいね。<br>これは最低限のマナーだと思います。

音声認識にはブラウザのWeb Speech APIを使っています。無料で使えますが、制限が多くて、複数言語を一度に話すと正しく認識されません。
また、2025年4月17日現在、Chromeでは音声認識中にネットワークエラーで強制終了することが多いです。<br>一応自動再起動の機能をつけていますが、その間の音声は抜けてしまいます。
なので、現時点ではEdgeを使って認識するのがオススメですが、今後どうなるかは分かりません…。

翻訳用のAPIエンドポイントについてはここでは提供していません。ご自身で用意してください。<br>リクエストの送信形式は現在作成中で、準備ができたら共有する予定です。

……まあ、こんなコード使う人いないと思いますけどね（笑）


# 更新說明
2025.04.19.001<br>
請GROK 3移除用不到的舊代碼(發布之前曾經有大幅修改過一次)<br>
翻譯顯示的規則稍微增加一點，因為太長的句子後面接結尾的語氣會馬上被蓋掉，所以加了一點規則讓他比較不會發生，但沒辦法完全避免<br>

目前想不到甚麼適合使用在直播顯示字幕再不占太多畫面的狀況下又能改善長短句顯示覆蓋的問題，目前試了很多方式都有沒有辦法有效改善，或者是造成其他問題的狀況<br>

2025.04.19.001<br>
以前に大幅なコード修正を行った際の、不要になった古いコードをGROK 3に削除してもらいました。<br>

翻訳字幕の表示ルールも少しだけ改善しました。というのも、長めの文章のあとに終わりの語気（例：～ね、～よ、～かも）が続くと、最後の部分がすぐに上書きされて見えなくなることが多かったので、少しでもそれが起きにくくなるような処理を追加しました。<br>ただ、完全に防ぐのは難しいです。

配信中に字幕を表示させつつ、画面をあまり占有しない形で長文・短文どちらにも対応する方法は、現時点ではまだ良い解決策が見つかっていません。<br>いろいろ試してみたのですが、どれも根本的な改善にはつながらず、かえって別の問題が発生することもありました。
